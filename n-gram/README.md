# Nグラムモデル

## Nグラムとは

テキスト内の連続するN個のアイテム（通常は文字や単語）をNグラム (N-gram) と呼ぶ。Nグラムは、テキスト内の特徴を捉えるために使用される統計的手法の一つであり、テキスト内の単語や文字のパターンを抽出するために利用される。


## Nグラムの定義

- ユニグラム（1-gram）: 1つのアイテム（例: 単語、文字）
- バイグラム（2-gram）: 2つの連続したアイテム（例: 2つの連続した単語、2つの連続した文字）
- トリグラム（3-gram）: 3つの連続したアイテム（例: 3つの連続した単語、3つの連続した文字）
- Nグラム（N-gram）: N個の連続したアイテム（例: N個の連続した単語、N個の連続した文字）

## Nグラムの利用法

Nグラムを用いることで、テキスト内のパターンや言語の特徴を捉えることができる。例えば、文章内の単語の頻度や単語の組み合わせを分析することができる。これにより、テキストの意味や文脈を理解したり、文書分類、機械翻訳、文章生成などのNLPタスクに役立てることができる。

Nグラムを利用する際には、選択するNの値が重要である。大きなNの場合、文脈の情報を多く取り込むことができるが、データのスパース性（特定のNグラムが不足している）や計算コストの増加といった課題が生じる可能性がある。一方、小さなNの場合は、より局所的なパターンが捉えられるが、文脈の情報が不足する可能性がある。

## Nグラムを利用した評価指標

### ROUGE（Recall-Oriented Understudy for Gisting Evaluation）

要約タスクなどの性能を評価するための評価指標の一つ。
ROUGEは、主に次のようなバリエーションがある。

#### ROUGE^

- ROUGE-N
  - Nグラムの共通性を測定する。Nは1から4の値が多い
  - 
- ROUGE-L
  - 最長共通部分列（Longest Common Subsequence）を使用して、生成された要約と参照要約の類似度を測定
- ROUGE-W
  - ウェイト付きROUGE（Weighted ROUGE）であり、文の位置を考慮して重み付けを行う


### BLEU (BiLingual Evaluation Understudy)

機械翻訳の品質を定量化するための評価尺度。0から1の範囲で示され、1に近いほどシステム出力と参照訳の類似性が高いことを示す。

1. 機械翻訳のシステム出力と参照訳との間でNグラム（通常は1〜4グラム）の一致度を計算します。
2. それらのNグラムの一致度をシステム出力と参照訳の長さで正規化し、幾何平均を取ります。
3. ブレブループレシジョン（BLEU Precision）は、システム出力のNグラムが参照訳にどれだけ含まれるかを測定します。
4. 最後に、ブレブループレシジョンの幾何平均の値を計算してBLEUスコアを算出します。
